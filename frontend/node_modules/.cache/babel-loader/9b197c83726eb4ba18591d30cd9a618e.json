{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\piani\\\\Documents\\\\GitHub\\\\Toffy_frontend_R\\\\Toffy\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\piani\\\\Documents\\\\GitHub\\\\Toffy_frontend_R\\\\Toffy\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\piani\\\\Documents\\\\GitHub\\\\Toffy_frontend_R\\\\Toffy\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\piani\\\\Documents\\\\GitHub\\\\Toffy_frontend_R\\\\Toffy\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\piani\\\\Documents\\\\GitHub\\\\Toffy_frontend_R\\\\Toffy\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component,Fragment}from\"react\";import axios from\"axios\";import Navbar from\"../components/Navbar\";import\"../css/bootstrap4-neon-glow.css\";axios.defaults.xsrfCookieName=\"csrftoken\";axios.defaults.xsrfHeaderName=\"X-CSRFToken\";var MyPage=/*#__PURE__*/function(_Component){_inherits(MyPage,_Component);function MyPage(){var _getPrototypeOf2;var _this;_classCallCheck(this,MyPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(MyPage)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={value1:\"\",value2:\"\",textList:[]};_this._renderText=function(){axios// Restframework에서 json으로 보여주는 페이지 url을 get 방식으로 접근\n.get(\"/api/tfnote/\").then(function(res){return _this.setState({textList:res.data});}).catch(function(err){return console.log(err);});};_this._handleWriter=function(e){e.preventDefault();_this.setState({value1:e.target.value});};_this._handleText=function(e){e.preventDefault();_this.setState({value2:e.target.value});};_this._handleSubmit=function(){var value1=_this.state.value1;var value2=_this.state.value2;var input1,input2;var _ref=[document.getElementById(\"_writer\"),document.getElementById(\"_text\")];input1=_ref[0];input2=_ref[1];input1.value=\"\";input2.value=\"\";axios.post(\"/api/tfnote/\",{writer:value1,text:value2}).then(function(res){return _this._renderText();});};return _this;}_createClass(MyPage,[{key:\"componentDidMount\",value:function componentDidMount(){this._renderText();}// 텍스트 렌더링\n},{key:\"render\",value:function render(){var textList=this.state.textList;var _memo;var realMemo;var _undefined=function _undefined(arg){return arg.replace(\"undefined\",\"\");};return React.createElement(Fragment,null,React.createElement(Navbar,null),React.createElement(\"div\",{className:\"ContactBack\"},React.createElement(\"div\",{className:\"ContactBody\"},React.createElement(\"div\",{className:\"card-body\"},React.createElement(\"div\",{className:\"submitForm\"},React.createElement(\"div\",{className:\"ht-tm-codeblock ht-tm-btn-replaceable ht-tm-element ht-tm-element-inner\"},React.createElement(\"div\",null),React.createElement(\"div\",null,React.createElement(\"div\",{className:\"Contact\"},textList.map(function(text,index){var realDate=text.date.split('T');var realTime=realDate[1].split(\"+\");var realTimer=realTime[0].split(\".\");_memo+=\"[ \"+text.writer+\" ] : \"+text.text+\" \"+realDate[0]+\" \"+realTimer[0]+\"\\n\";realMemo=_undefined(_memo);}),React.createElement(\"div\",{className:\"blackBox\"},React.createElement(\"textarea\",{value:realMemo,type:\"text\",className:\"form-control text chating\"})))),React.createElement(\"div\",{class:\"submitLogo\"}),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{type:\"writer\",className:\"form-control writer\",value:this.state.value,onChange:this._handleWriter,id:\"_writer\",\"aria-describedby\":\"_writer\",placeholder:\"Stranger\",maxlength:\"20\"}),React.createElement(\"textarea\",{type:\"text\",className:\"form-control text\",value:this.state.value,onChange:this._handleText,id:\"_text\",\"aria-describedby\":\"_text\",placeholder:\"Want to talk?\",maxlength:\"200\"}),React.createElement(\"div\",{id:\"_apiJoinclassName\"},React.createElement(\"button\",{onClick:this._handleSubmit,class:\"ht-tm-element btn btn-outline-light\"},\"SEND\")))))))));}}]);return MyPage;}(Component);export default MyPage;","map":{"version":3,"sources":["C:/Users/piani/Documents/GitHub/Toffy_frontend_R/Toffy/frontend/src/pages/MyPage.js"],"names":["React","Component","Fragment","axios","Navbar","defaults","xsrfCookieName","xsrfHeaderName","MyPage","state","value1","value2","textList","_renderText","get","then","res","setState","data","catch","err","console","log","_handleWriter","e","preventDefault","target","value","_handleText","_handleSubmit","input1","input2","document","getElementById","post","writer","text","_memo","realMemo","_undefined","arg","replace","map","index","realDate","date","split","realTime","realTimer"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\r\nimport axios from \"axios\";\r\nimport Navbar from \"../components/Navbar\";\r\n\r\nimport \"../css/bootstrap4-neon-glow.css\";\r\n\r\naxios.defaults.xsrfCookieName = \"csrftoken\";\r\naxios.defaults.xsrfHeaderName = \"X-CSRFToken\";\r\n\r\nclass MyPage extends Component {\r\n  state = {\r\n    value1: \"\",\r\n    value2: \"\",\r\n    textList: []\r\n  };\r\n  componentDidMount() {\r\n    this._renderText();\r\n  }\r\n  \r\n  // 텍스트 렌더링\r\n  _renderText = () => {\r\n    axios\r\n      // Restframework에서 json으로 보여주는 페이지 url을 get 방식으로 접근\r\n      .get(\"/api/tfnote/\")\r\n      .then(res => this.setState({ textList: res.data }))\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  // writer\r\n  _handleWriter = e => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      value1: e.target.value\r\n    });\r\n  };\r\n\r\n  //text\r\n  _handleText = e => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      value2: e.target.value\r\n    });\r\n  };\r\n\r\n  //서버로 Data 전송\r\n  _handleSubmit = () => {\r\n    const  value1  = this.state.value1;\r\n    const  value2  = this.state.value2;\r\n    let input1, input2\r\n    [input1, input2] = [document.getElementById(\"_writer\"),document.getElementById(\"_text\")]\r\n    input1.value = \"\";\r\n    input2.value = \"\";\r\n    axios\r\n      .post(\"/api/tfnote/\", { writer: value1, text: value2 })\r\n      .then(res => this._renderText());\r\n  };\r\n\r\n  render() {\r\n    const { textList } = this.state;\r\n    let _memo\r\n    let realMemo\r\n    const _undefined = (arg) => {\r\n      return arg.replace(\"undefined\",\"\")\r\n    }\r\n    return (\r\n      <Fragment>\r\n      <Navbar></Navbar>\r\n      <div className=\"ContactBack\">\r\n      <div className=\"ContactBody\">\r\n        <div className=\"card-body\">\r\n          <div className=\"submitForm\">\r\n            <div className=\"ht-tm-codeblock ht-tm-btn-replaceable ht-tm-element ht-tm-element-inner\">\r\n              <div>\r\n                {}\r\n              </div>\r\n              <div>\r\n              <div className=\"Contact\">\r\n                {textList.map((text, index) => {\r\n                  const realDate=text.date.split('T')\r\n                  const realTime=realDate[1].split(\"+\")\r\n                  const realTimer=realTime[0].split(\".\")\r\n                  _memo += (\"[ \"+text.writer+\" ] : \"+text.text+\" \"+realDate[0]+\" \"+realTimer[0]+\"\\n\")\r\n                  realMemo = _undefined(_memo)\r\n                })}\r\n                <div className=\"blackBox\">\r\n                <textarea value={realMemo}\r\n                  type=\"text\"\r\n                  className=\"form-control text chating\"\r\n                 >\r\n                </textarea>\r\n                </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"submitLogo\">\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input\r\n                  type=\"writer\"\r\n                  className=\"form-control writer\"\r\n                  value={this.state.value}\r\n                  onChange={this._handleWriter}\r\n                  id=\"_writer\"\r\n                  aria-describedby=\"_writer\"\r\n                  placeholder=\"Stranger\"\r\n                  maxlength=\"20\"\r\n                ></input>\r\n                <textarea\r\n                  type=\"text\"\r\n                  className=\"form-control text\"\r\n                  value={this.state.value}\r\n                  onChange={this._handleText}\r\n                  id=\"_text\"\r\n                  aria-describedby=\"_text\"\r\n                  placeholder=\"Want to talk?\"\r\n                  maxlength=\"200\"\r\n                ></textarea>\r\n                <div id=\"_apiJoinclassName\">\r\n              <button onClick={this._handleSubmit} class=\"ht-tm-element btn btn-outline-light\">\r\n                SEND\r\n              </button>\r\n            </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>  \r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default MyPage;"]},"metadata":{},"sourceType":"module"}